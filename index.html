<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Wordle Mobile Vertical</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
/* ===== Общий стиль ===== */
body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(to bottom, #fceabb, #f8b500);
    text-align: center;
    color: #333;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    justify-content: flex-start;
    align-items: center;
    padding: 20px 0;
}

h1 {
    font-size: 2em;
    margin-bottom: 20px;
}

/* ===== Экраны ===== */
.screen { display: none; width: 100%; }
.active { display: block; }

/* ===== Флаги ===== */
.flag {
    width: 100px;
    cursor: pointer;
    margin: 10px;
    border-radius: 12px;
    border: 2px solid #fff;
    transition: .2s;
}
.flag:hover { transform: scale(1.1); border-color: #333; }

/* ===== Кнопки ===== */
button {
    padding: 12px 25px;
    margin: 12px;
    font-size: 18px;
    border-radius: 10px;
    border: 2px solid #333;
    background: #fff5d7;
    color: #333;
    cursor: pointer;
    transition: .2s;
}
button:hover { background: #ffe680; transform: scale(1.05); }

/* ===== Игровое поле ===== */
#board {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.row {
    display: flex;
    justify-content: center;
    margin: 2px 0;
}

.cell {
    width: 14vw;  /* адаптивная ширина под экран телефона */
    max-width: 60px;
    height: 14vw;
    max-height: 60px;
    margin: 2px;
    border-radius: 8px;
    font-size: 4vw;
    max-font-size: 28px;
    line-height: 14vw;
    max-line-height: 60px;
    background: #fff9e6;
    border: 2px solid #ccc;
    text-transform: uppercase;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: 0.3s;
}

.correct { background: #6aaa64; border-color: #6aaa64; color: #fff; }
.semi { background: #c9b458; border-color: #c9b458; color: #fff; }
.wrong { background: #d3d6da; border-color: #d3d6da; color: #333; }

/* ===== Input ===== */
#input {
    font-size: 5vw;
    max-font-size: 28px;
    padding: 8px;
    text-align: center;
    border-radius: 8px;
    border: 2px solid #333;
    width: 60vw;
    max-width: 200px;
    margin-top: 15px;
}
</style>
</head>
<body>

<!-- ===== Выбор языка ===== -->
<div id="langSelect" class="screen active">
<h1>Выберите язык / Choose Language</h1>
<img src="https://flagcdn.com/w320/gb.png" class="flag" onclick="setLanguage('en')">
<img src="https://flagcdn.com/w320/ru.png" class="flag" onclick="setLanguage('ru')">
</div>

<!-- ===== Главное меню ===== -->
<div id="menu" class="screen">
<h1 id="menuTitle">Wordle</h1>
<button id="playBtn" onclick="openGame()">Играть</button>
<button id="settingsBtn" onclick="openSettings()">Настройки</button>
</div>

<!-- ===== Настройки ===== -->
<div id="settings" class="screen">
<h1 id="settingsTitle">Настройки</h1>
<button id="changeLang" onclick="openLangBack()">Сменить язык</button>
<br><br>
<button onclick="backToMenu()">⬅ Вернуться</button>
</div>

<!-- ===== Игра ===== -->
<div id="game" class="screen">
<h1 id="gameTitle">Wordle</h1>
<div id="board"></div>
<input id="input" maxlength="5">
<button onclick="enterWord()">OK</button>
<br><br>
<button onclick="backToMenu()">⬅ Меню</button>
</div>

<script>
// ===== Словари =====
const wordsRU = ["снег","луна","кот","дом","река","мир","птица","книга","берег","камин","тень","космос","лампа","вода","мост","волна","трава","город","звезда","мечта","песок","лист","дверь","карта","камень","кошка","мышка"];
const wordsEN = ["apple","water","train","grape","mouse","plant","storm","tiger","bread","light","floor","house","table","chair","river","stone","green","black","cloud","smile","dream","night","movie","beach","space","earth","robot","laser","power","flame","sound","flash","ocean","horse","angle","drive","phone","music","timer"];

let currentLang=null,currentList=null,secretWord="",row=0,WORD_LEN=5,MAX_ROWS=6;

// ===== Язык =====
function setLanguage(lang){
    currentLang=lang;
    currentList=lang==="ru"?wordsRU:wordsEN;
    secretWord=currentList[Math.floor(Math.random()*currentList.length)];
    WORD_LEN=secretWord.length;
    document.getElementById("langSelect").classList.remove("active");
    document.getElementById("menu").classList.add("active");
    updateTexts();
}

// ===== Обновление текста =====
function updateTexts(){
    if(currentLang==="ru"){
        playBtn.innerText="Играть"; settingsBtn.innerText="Настройки"; menuTitle.innerText="Меню";
        settingsTitle.innerText="Настройки"; changeLang.innerText="Сменить язык";
        gameTitle.innerText="Игра Wordle";
    } else {
        playBtn.innerText="Play"; settingsBtn.innerText="Settings"; menuTitle.innerText="Menu";
        settingsTitle.innerText="Settings"; changeLang.innerText="Change Language";
        gameTitle.innerText="Wordle Game";
    }
}

// ===== Переходы =====
function hideAll(){document.querySelectorAll('.screen').forEach(s=>s.classList.remove("active"));}
function openGame(){hideAll();document.getElementById("game").classList.add("active");startBoard();}
function openSettings(){hideAll();document.getElementById("settings").classList.add("active");}
function openLangBack(){hideAll();document.getElementById("langSelect").classList.add("active");}
function backToMenu(){hideAll();document.getElementById("menu").classList.add("active");}

// ===== Игровое поле =====
function startBoard(){
    row=0;
    document.getElementById("board").innerHTML="";
    for(let r=0;r<MAX_ROWS;r++){
        let div=document.createElement("div"); div.className="row";
        for(let c=0;c<WORD_LEN;c++){
            let cell=document.createElement("div"); cell.className="cell"; cell.id=`r${r}c${c}`;
            div.appendChild(cell);
        }
        document.getElementById("board").appendChild(div);
    }
    document.getElementById("input").value="";
    document.getElementById("input").maxLength=WORD_LEN;
}

// ===== Ввод слова =====
function enterWord(){
    let input=document.getElementById("input");
    let guess=input.value.toLowerCase();
    if(guess.length!==WORD_LEN) return;
    for(let i=0;i<WORD_LEN;i++){
        let cell=document.getElementById(`r${row}c${i}`);
        cell.textContent=guess[i];
        if(guess[i]===secretWord[i]) cell.classList.add("correct");
        else if(secretWord.includes(guess[i])) cell.classList.add("semi");
        else cell.classList.add("wrong");
    }
    if(guess===secretWord) alert(currentLang==="ru"?"ПОБЕДА!":"WIN!");
    row++;
    input.value="";
    if(row===MAX_ROWS) alert((currentLang==="ru"?"Было слово: ":"Word was: ")+secretWord);
}
</script>

</body>
</html>
  <canvas id="game"></canvas>
</div>

<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
let W,H;
function resize(){
  W = window.innerWidth*window.devicePixelRatio;
  H = window.innerHeight*window.devicePixelRatio;
  canvas.width = W;
  canvas.height = H;
}
window.addEventListener('resize', resize);
resize();

/* MENU */
const mainMenu = document.getElementById('mainMenu');
const startBtn = document.getElementById('startBtn');
const instructionsBtn = document.getElementById('instructionsBtn');
const scoreboard = document.getElementById('scoreboard');
const highScoreDisplay = document.getElementById('highScore');

let highScore = parseInt(localStorage.getItem('pushHighScore')) || 0;
highScoreDisplay.textContent = highScore;

startBtn.onclick = ()=>{ startGame(); };
instructionsBtn.onclick = ()=>{ alert("Move the ball with the paddle. Hit walls with the paddle to bounce. If the ball touches a wall without the paddle — Game Over!"); };

/* GAME STATE */
let running=false;
let ball = {x:0, y:0, r:16, vx:2, vy:2};
let paddle = {length:100, angle:0, width:14};
let mouse = {x:0,y:0};
let score=0;
let speedMultiplier=1;
let timer=0;
let lastTime=0;

// флаги для одного отскока за контакт
let canBounce = {left:true, right:true, top:true, bottom:true};

/* INIT */
function resetGame(){
  score=0; timer=0;
  speedMultiplier=1;
  ball.x=W/2; ball.y=H/2; ball.vx=2; ball.vy=2;
  paddle.angle = 0;
  lastTime=performance.now();
  canBounce = {left:true, right:true, top:true, bottom:true};
  scoreboard.style.display='flex';
  document.getElementById('score').textContent=score;
  document.getElementById('timer').textContent=timer.toFixed(2);
  running=true;
}

function startGame(){
  mainMenu.style.display='none';
  resetGame();
}

/* INPUT */
canvas.addEventListener('pointermove', e=>{
  const rect = canvas.getBoundingClientRect();
  mouse.x = (e.clientX - rect.left)/rect.width*W;
  mouse.y = (e.clientY - rect.top)/rect.height*H;
});

/* GAME LOOP */
function update(dt){
  if(!running) return;

  // движение шарика с ускорением
  ball.x += ball.vx*speedMultiplier*dt/16.67;
  ball.y += ball.vy*speedMultiplier*dt/16.67;

  // угол палки
  paddle.angle = Math.atan2(mouse.y - ball.y, mouse.x - ball.x);

  // координаты кончика палки
  const tip = {
    x: ball.x + Math.cos(paddle.angle)*paddle.length,
    y: ball.y + Math.sin(paddle.angle)*paddle.length
  };

  // LEFT WALL
  if(tip.x - ball.r <=0){
    if(canBounce.left){
      ball.vx = Math.abs(ball.vx);
      canBounce.left=false;
      speedMultiplier = Math.min(speedMultiplier+0.05,3);
      score++;
    }
  } else canBounce.left=true;

  // RIGHT WALL
  if(tip.x + ball.r >=W){
    if(canBounce.right){
      ball.vx = -Math.abs(ball.vx);
      canBounce.right=false;
      speedMultiplier = Math.min(speedMultiplier+0.05,3);
      score++;
    }
  } else canBounce.right=true;

  // TOP WALL
  if(tip.y - ball.r <=0){
    if(canBounce.top){
      ball.vy = Math.abs(ball.vy);
      canBounce.top=false;
      speedMultiplier = Math.min(speedMultiplier+0.05,3);
      score++;
    }
  } else canBounce.top=true;

  // BOTTOM WALL
  if(tip.y + ball.r >=H){
    if(canBounce.bottom){
      ball.vy = -Math.abs(ball.vy);
      canBounce.bottom=false;
      speedMultiplier = Math.min(speedMultiplier+0.05,3);
      score++;
    }
  } else canBounce.bottom=true;

  // Game Over если шарик коснулся стены без палки
  if(ball.x - ball.r <=0 || ball.x + ball.r >=W || ball.y - ball.r <=0 || ball.y + ball.r >=H){
    gameOver();
  }

  timer += dt/1000;
  document.getElementById('score').textContent=score;
  document.getElementById('timer').textContent=timer.toFixed(2);
}

function gameOver(){
  running=false;
  mainMenu.style.display='flex';
  if(score > highScore){
    highScore = score;
    localStorage.setItem('pushHighScore', highScore);
    highScoreDisplay.textContent = highScore;
  }
  alert('Game Over!\nScore: '+score+'\nTime: '+timer.toFixed(2)+'s');
}

/* DRAW */
function draw(){
  ctx.clearRect(0,0,W,H);

  // стены
  ctx.strokeStyle='#38bdf8';
  ctx.lineWidth=4*window.devicePixelRatio;
  ctx.strokeRect(2,2,W-4,H-4);

  // шарик с градиентом
  let gradient = ctx.createRadialGradient(ball.x, ball.y, ball.r*0.3, ball.x, ball.y, ball.r);
  gradient.addColorStop(0,'#ff8c94');
  gradient.addColorStop(1,'#fb7185');
  ctx.fillStyle = gradient;
  ctx.beginPath();
  ctx.arc(ball.x, ball.y, ball.r,0,Math.PI*2);
  ctx.fill();

  // палка
  ctx.strokeStyle='#38bdf8';
  ctx.lineWidth=paddle.width*window.devicePixelRatio;
  ctx.beginPath();
  ctx.moveTo(ball.x, ball.y);
  ctx.lineTo(ball.x + Math.cos(paddle.angle)*paddle.length, ball.y + Math.sin(paddle.angle)*paddle.length);
  ctx.stroke();
}

function loop(now){
  const dt = now - lastTime;
  lastTime=now;
  update(dt);
  draw();
  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);
</script>
</body>
</html>
